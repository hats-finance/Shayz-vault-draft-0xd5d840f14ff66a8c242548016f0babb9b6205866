import { useContext } from "react";
import { VulnerabilityFormContext } from "pages/VulnerabilityFormPage/store";
import SubmitProcessed from "./components/SubmitProcessed/SubmitProcessed";
import SubmitReview from "./components/SubmitReview/SubmitReview";
import "./index.scss";

/**
 * Function to call the Telegram bot after a success on the blockchain transaction.
 * @param {Function} submitCard
 * @param {string} telegramBotUrl
 * @param {string} encryptedData
 * @param {string} transactionHash
 * @param {boolean} isRouted
 * @param {Function} setBotStatus
 * @param {string} contractAddress
 */
export default function VulnerabilitySubmit() {
  const { vulnerabilityData } = useContext(VulnerabilityFormContext);

  return (
    <div className="submit-wrapper card-content">
      {vulnerabilityData?.submission?.verified ? <SubmitProcessed /> : <SubmitReview />}
    </div>
  );
}
